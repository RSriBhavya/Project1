// Swiper JS initialization for Testimonials
document.addEventListener('DOMContentLoaded', function () {
    // Testimonials Slider
    new Swiper('.swiper-testimonial', {
        slidesPerView: 3,
        spaceBetween: 30,
        navigation: {
            prevEl: '.slider-arrow-left',
            nextEl: '.slider-arrow-right',
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        breakpoints: {
            1: {
                slidesPerView: 1,
            },
            576: {
                slidesPerView: 1,
            },
            768: {
                slidesPerView: 2,
            },
            1200: {
                slidesPerView: 3,
            },
        },
    });

    // Tab Slider
    var swiperTabsContainer = new Swiper('.swiper-tab-container', {
        loop: true,
        slidesPerView: 1,
        autoHeight: true,
        autoplay: {
            delay: 5000,
            disableOnInteraction: false,
        },
        effect: 'fade',
        fadeEffect: {
            crossFade: true,
        },
        on: {
            activeIndexChange: function (swiper) {
                var index = swiper.realIndex;
                document.querySelectorAll('.swiper-tab-link').forEach(function (link, idx) {
                    link.classList.toggle('active', idx === index);
                });
            },
        },
    });

    document.querySelectorAll('.swiper-tab-link').forEach(function (tab, idx) {
        tab.addEventListener('click', function () {
            swiperTabsContainer.slideToLoop(idx);
        });
    });
});
